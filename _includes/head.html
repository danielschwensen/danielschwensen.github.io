<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {%- seo -%}
  <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">
  {%- feed_meta -%}
  {%- if jekyll.environment == 'production' and site.google_analytics -%}
    {%- include google-analytics.html -%}
  {%- endif -%}

  {%- include custom-head.html -%}
  <!-- Simple-Jekyll-Search: Suchfunktion fÃ¼r Blog -->
  <script src="https://unpkg.com/simple-jekyll-search@latest/dest/simple-jekyll-search.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
        searchResultTemplate: '<li style="padding:8px;"><a href="{url}" style="color:#007acc;">{title}</a></li>',
        noResultsText: '<li style="padding:8px;">Keine Treffer gefunden.</li>',
        limit: 20,
        fuzzy: false,
        debounceTime: 300,
        success: function() {
          document.getElementById('results-container').style.display = 'block';
        }
      });
      // Ergebnisse ausblenden, wenn das Suchfeld leer ist oder Fokus verliert
      var input = document.getElementById('search-input');
      var results = document.getElementById('results-container');
      input.addEventListener('blur', function() {
        setTimeout(function() { results.style.display = 'none'; }, 200);
      });
      input.addEventListener('input', function() {
        if (!input.value) results.style.display = 'none';
      });
      input.addEventListener('focus', function() {
        if (results.innerHTML) results.style.display = 'block';
      });
    });
  </script>
</head>
